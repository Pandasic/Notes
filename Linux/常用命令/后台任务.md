---
title: 后台任务
tag: [计算机课程学习,Linux,常用命令,]
---
# Linux查看后台运行程序，并将其关闭


在Linux的应用程序放在后台运行，可以让我们同时执行多个任务，提高工作效率。

## 将程序放在后台运行
### 运行.sh文件
直接用./sh 文件就可以运行，但是如果想后台运行，即使关闭当前的终端也可以运行的话，需要nohup命令和&命令。

&命令：加在一个命令的最后，可以把这个命令放在后台执行
nohup命令：不挂断的运行命令

  ```sh
  nohup ./*sh &
  nohup ./* &
  ```

​      

## 查看当前后台运行的命令
两个命令可以用：jobs和ps。区别是jobs用于查看当前终端后台运行的任务，换了终端就看不到了。而ps命令用于查看瞬间进程的动态，可以看到别的终端运行的后台进程。

**jobs**命令：查看当前终端后台运行的任务
**jobs -l**  选项可显示当前终端所有任务的PID，jobs的状态可以是running，stopped，Terminated。+ 号表示当前任务，- 号表示后一个任务。

**ps**命令：查看当前的所有进程
**ps -aux | grep "test.sh"**    #a:显示所有程序  u:以用户为主的格式来显示   x:显示所有程序，不以终端机来区分

## 关闭当前后台运行的命令
**kill**命令：结束进程

（1）通过jobs命令查看jobnum，然后执行   kill %jobnum

（2）通过ps命令查看进程号PID，然后执行  kill %PID

如果是前台进程的话，直接执行 Ctrl+c 就可以终止了

## 前后台进程的切换与控制
**fg**命令：将后台中的命令调至前台继续运行

 如果后台中有多个命令，可以先用jobs查看jobnun，然后用 fg %jobnum 将选中的命令调出。

**Ctrl + z** 命令：将一个正在前台执行的命令放到后台，并且处于暂停状态

**bg命令**：将一个在后台暂停的命令，变成在后台继续执行

   如果后台中有多个命令，可以先用jobs查看jobnum，然后用 bg %jobnum 将选中的命令调出继续执行。